<html>
		<head>
				<script src="clientDrawFunctions.js"></script> 
				<script src="rx.js"></script> 
				<script src="rx-dom.js"></script> 
				<title>Hello Sudoku</title>
		</head>
		<body>
				<h1> Sudoku solver  </h1>

				<p>
					Fill in your sudoku in this sudoku and press show more number repeatedly and the puzzle will be solved. The solver can handle easy and medium difficulty. If no more numbers shows up after you press show more numbers, then the solver can do no better.
				</p>

				<h2>
					Move the cursor with arrows, set text with numberkey and clear with 0.

				</h2>
				<canvas id="mycanvas" width="600px" height="600px">

				</canvas>	

				<button onclick="showAnswer()">Show more numbers</button>
				<button onclick="emptyGame()">Clear sudoku</button>
				<button onclick="createGame()">Sudoku game 1</button>
				<button onclick="createGame3()">Sudoku game 2</button>
		</body>
		<script>

		var canvas = document.getElementById("mycanvas");

		var globalMarkerBox = {width:500/9, height:500/9, xpos:0, ypos:0};
		var globalPreNumbers = [];

function createGame(){

		emptyGame();

		globalPreNumbers = [{"row":0,"column":0,"value":5},{"row":0,"column":2,"value":8},{"row":2,"column":2,"value":6},{"row":2,"column":1,"value":9},{"row":2,"column":5,"value":7},{"row":1,"column":3,"value":9},{"row":0,"column":4,"value":3},{"row":2,"column":8,"value":3},{"row":3,"column":8,"value":2},{"row":3,"column":6,"value":3},{"row":4,"column":8,"value":7},{"row":5,"column":7,"value":1},{"row":5,"column":6,"value":9},{"row":5,"column":4,"value":2},{"row":4,"column":4,"value":1},{"row":4,"column":5,"value":9},{"row":3,"column":4,"value":7},{"row":4,"column":3,"value":8},{"row":3,"column":2,"value":5},{"row":3,"column":1,"value":1},{"row":4,"column":0,"value":3},{"row":5,"column":0,"value":8},{"row":5,"column":2,"value":7},{"row":6,"column":0,"value":7},{"row":6,"column":3,"value":5},{"row":7,"column":5,"value":8},{"row":8,"column":4,"value":6},{"row":6,"column":6,"value":6},{"row":6,"column":7,"value":9},{"row":8,"column":6,"value":2},{"row":8,"column":8,"value":4}];


		updateSudoku(canvas, globalPreNumbers, globalMarkerBox);
}

function createGame3(){
		console.log("createGame3");
		emptyGame();

		globalPreNumbers = [{"row":0,"column":0,"value":6},{"row":1,"column":2,"value":9},{"row":0,"column":3,"value":8},{"row":1,"column":3,"value":2},{"row":2,"column":5,"value":5},{"row":0,"column":6,"value":2},{"row":0,"column":7,"value":4},{"row":0,"column":8,"value":1},{"row":1,"column":8,"value":3},{"row":1,"column":7,"value":7},{"row":2,"column":8,"value":6},{"row":3,"column":7,"value":2},{"row":4,"column":7,"value":3},{"row":4,"column":6,"value":6},{"row":4,"column":8,"value":7},{"row":5,"column":6,"value":9},{"row":5,"column":3,"value":4},{"row":3,"column":5,"value":9},{"row":3,"column":2,"value":8},{"row":4,"column":2,"value":2},{"row":4,"column":1,"value":4},{"row":4,"column":0,"value":9},{"row":5,"column":1,"value":7},{"row":6,"column":0,"value":2},{"row":7,"column":0,"value":5},{"row":7,"column":1,"value":3},{"row":8,"column":0,"value":8},{"row":8,"column":1,"value":9},{"row":8,"column":2,"value":6},{"row":6,"column":3,"value":6},{"row":7,"column":5,"value":8},{"row":8,"column":5,"value":3},{"row":7,"column":6,"value":1},{"row":8,"column":8,"value":4}];
	
		updateSudoku(canvas, globalPreNumbers, globalMarkerBox);

}


function emptyGame(){

	globalPreNumbers.forEach(function(cell){

		cell.value = 0;

	});

	updateSudoku(canvas, globalPreNumbers, globalMarkerBox);

}


function createGame2(){

		emptyGame();

		globalPreNumbers = [{"row":0,"column":0,"value":5},{"row":0,"column":1,"value":6},{"row":0,"column":4,"value":2},{"row":0,"column":7,"value":1},{"row":1,"column":0,"value":9},{"row":1,"column":4,"value":5},{"row":1,"column":8,"value":7},{"row":2,"column":1,"value":3},{"row":2,"column":5,"value":1},{"row":2,"column":7,"value":8},{"row":2,"column":8,"value":9},{"row":3,"column":2,"value":1},{"row":3,"column":3,"value":2},{"row":3,"column":5,"value":9},{"row":3,"column":8,"value":8},{"row":5,"column":1,"value":2},{"row":5,"column":4,"value":4},{"row":6,"column":2,"value":9},{"row":6,"column":5,"value":7},{"row":7,"column":0,"value":1},{"row":7,"column":4,"value":3},{"row":7,"column":7,"value":2},{"row":8,"column":0,"value":6},{"row":8,"column":2,"value":3},{"row":8,"column":6,"value":7},{"row":8,"column":7,"value":5},{"row":1,"column":1,"value":0},{"row":2,"column":2,"value":0},{"row":0,"column":3,"value":0},{"row":2,"column":6,"value":0},{"row":1,"column":7,"value":0},{"row":1,"column":6,"value":0},{"row":4,"column":8,"value":0},{"row":5,"column":8,"value":0},{"row":5,"column":7,"value":0},{"row":4,"column":1,"value":0},{"row":6,"column":0,"value":0},{"row":8,"column":4,"value":0},{"row":8,"column":5,"value":0},{"row":7,"column":6,"value":0},{"row":6,"column":6,"value":0}];
		
	updateSudoku(canvas, globalPreNumbers, globalMarkerBox);

}






var allKeys = Rx.Observable.fromEvent(document, "keyup");

var ykeyUps = Rx.Observable.fromEvent(document,"keyup").map(function(keyObject){return keyObject.key}).filter(checkYDir);
var xkeyUps = Rx.Observable.fromEvent(document,"keyup").map(function(keyObject){return keyObject.key}).filter(checkXDir);
var numberKeys = Rx.Observable.fromEvent(document,"keyup").map(function(keyObject){return keyObject.key}).filter(checkNumberKey);

ykeyUps.subscribe(updateGlobalBox);
xkeyUps.subscribe(updateGlobalBox);

numberKeys.subscribe(addNumberToPreNumber);

allKeys.subscribe(function(){
		updateSudoku(canvas, globalPreNumbers, globalMarkerBox);		
});


updateSudoku(canvas, globalPreNumbers, globalMarkerBox);

		</script>
</html>

